<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Dashboard - NextHire.AI</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <style>
        .feature-card {
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.3s;
            margin-bottom: 20px;
        }
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        .confidence-badge {
            font-size: 2rem;
            padding: 20px;
            border-radius: 50%;
            width: 100px;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
        }
        .skill-chip {
            display: inline-block;
            padding: 5px 12px;
            margin: 3px;
            border-radius: 20px;
            font-size: 0.85rem;
        }
        .roadmap-timeline {
            position: relative;
            padding-left: 30px;
        }
        .roadmap-timeline::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #007bff;
        }
        .roadmap-item {
            position: relative;
            margin-bottom: 20px;
            padding-left: 20px;
        }
        .roadmap-item::before {
            content: '';
            position: absolute;
            left: -24px;
            top: 5px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #007bff;
            border: 2px solid white;
        }
        .section-score {
            height: 20px;
            border-radius: 10px;
            background: #e9ecef;
            overflow: hidden;
        }
        .section-score-fill {
            height: 100%;
            transition: width 0.5s;
        }
        .role-comparison-card {
            border-left: 4px solid #007bff;
            margin-bottom: 15px;
        }
        .simulator-result {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid">
            <a class="navbar-brand d-flex align-items-center gap-2" href="/">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="logo-svg">
                  <defs>
                    <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" style="stop-color:#ff6b00;stop-opacity:1" />
                      <stop offset="100%" style="stop-color:#ff8c42;stop-opacity:1" />
                    </linearGradient>
                  </defs>
                  <!-- Stylized N with upward arrow -->
                  <path d="M8 24V8L16 16L24 8V16L20 20L24 24V28H20L16 24L12 28H8V24Z" fill="url(#logoGradient)"/>
                  <path d="M20 4L24 8L20 12L16 8L20 4Z" fill="url(#logoGradient)"/>
                </svg>
                <span>NextHire.AI Enhanced</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/dashboard">Resume Builder</a></li>
                    <li class="nav-item"><a class="nav-link active" href="/enhanced_dashboard">Enhanced Features</a></li>
                    <li class="nav-item"><a class="nav-link" href="/my_resumes">My Resumes</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <!-- Header -->
        <div class="text-center mb-4">
            <h1><i class="bi bi-stars"></i> Enhanced Career Analysis Dashboard</h1>
            <p class="text-muted">Explore advanced features to boost your career readiness</p>
        </div>

        <!-- Quick Stats Row -->
        <div class="row mb-4" id="quickStats" style="display: none;">
            <div class="col-md-3">
                <div class="card text-center feature-card">
                    <div class="card-body">
                        <h3 id="resumeScoreDisplay">--</h3>
                        <p class="text-muted mb-0">Resume Score</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card text-center feature-card">
                    <div class="card-body">
                        <h3 id="roleFitScoreDisplay">--</h3>
                        <p class="text-muted mb-0">Role Fit Score</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card text-center feature-card">
                    <div class="card-body">
                        <h3 id="missingSkillsDisplay">--</h3>
                        <p class="text-muted mb-0">Missing Skills</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card text-center feature-card">
                    <div class="card-body">
                        <h3 id="confidenceLevelDisplay">--</h3>
                        <p class="text-muted mb-0">Confidence</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab Navigation -->
        <ul class="nav nav-tabs mb-4" id="featureTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="role-eval-tab" data-bs-toggle="tab" data-bs-target="#roleEval" type="button">
                    <i class="bi bi-person-badge"></i> Role Evaluation
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="roadmap-tab" data-bs-toggle="tab" data-bs-target="#roadmap" type="button">
                    <i class="bi bi-map"></i> Learning Roadmap
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="simulator-tab" data-bs-toggle="tab" data-bs-target="#simulator" type="button">
                    <i class="bi bi-lightning"></i> Skill Simulator
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="comparison-tab" data-bs-toggle="tab" data-bs-target="#comparison" type="button">
                    <i class="bi bi-bar-chart"></i> Role Comparison
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="breakdown-tab" data-bs-toggle="tab" data-bs-target="#breakdown" type="button">
                    <i class="bi bi-pie-chart"></i> Resume Breakdown
                </button>
            </li>
        </ul>

        <!-- Tab Content -->
        <div class="tab-content" id="featureTabContent">
            
            <!-- FEATURE 1: Role Evaluation -->
            <div class="tab-pane fade show active" id="roleEval" role="tabpanel">
                <div class="card feature-card">
                    <div class="card-header bg-primary text-white">
                        <h5><i class="bi bi-person-badge"></i> Role-Based Evaluation System</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <label class="form-label">Select Target Role:</label>
                                <select class="form-select" id="roleSelect">
                                    <option value="">-- Select a Role --</option>
                                </select>
                                <button class="btn btn-primary mt-3" onclick="evaluateRole()">
                                    <i class="bi bi-search"></i> Evaluate Role Fit
                                </button>
                            </div>
                            <div class="col-md-6" id="confidenceSection" style="display: none;">
                                <h6>Confidence Index</h6>
                                <div class="confidence-badge" id="confidenceBadge">--</div>
                                <p class="text-center mt-2" id="confidenceText"></p>
                            </div>
                        </div>
                        <div id="roleEvalResults" class="mt-4" style="display: none;"></div>
                    </div>
                </div>
            </div>

            <!-- FEATURE 2: Learning Roadmap -->
            <div class="tab-pane fade" id="roadmap" role="tabpanel">
                <div class="card feature-card">
                    <div class="card-header bg-success text-white">
                        <h5><i class="bi bi-map"></i> Skill Gap Learning Roadmap</h5>
                    </div>
                    <div class="card-body">
                        <button class="btn btn-success" onclick="generateRoadmap()">
                            <i class="bi bi-arrow-right-circle"></i> Generate My Learning Roadmap
                        </button>
                        <div id="roadmapResults" class="mt-4" style="display: none;"></div>
                    </div>
                </div>
            </div>

            <!-- FEATURE 4: Skill Simulator -->
            <div class="tab-pane fade" id="simulator" role="tabpanel">
                <div class="card feature-card">
                    <div class="card-header bg-warning text-dark">
                        <h5><i class="bi bi-lightning"></i> What-If Skill Simulator</h5>
                    </div>
                    <div class="card-body">
                        <div id="simulatorContent">
                            <p>Select a role first to simulate skill acquisition</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FEATURE 5: Role Comparison -->
            <div class="tab-pane fade" id="comparison" role="tabpanel">
                <div class="card feature-card">
                    <div class="card-header bg-info text-white">
                        <h5><i class="bi bi-bar-chart"></i> Role Switch Impact Analysis</h5>
                    </div>
                    <div class="card-body">
                        <button class="btn btn-info" onclick="compareRoles()">
                            <i class="bi bi-arrow-left-right"></i> Compare All Roles
                        </button>
                        <div id="comparisonResults" class="mt-4" style="display: none;"></div>
                    </div>
                </div>
            </div>

            <!-- FEATURE 6: Resume Breakdown -->
            <div class="tab-pane fade" id="breakdown" role="tabpanel">
                <div class="card feature-card">
                    <div class="card-header bg-danger text-white">
                        <h5><i class="bi bi-pie-chart"></i> Resume Strength Breakdown</h5>
                    </div>
                    <div class="card-body">
                        <button class="btn btn-danger" onclick="getResumeBreakdown()">
                            <i class="bi bi-graph-up"></i> Analyze My Resume
                        </button>
                        <div id="breakdownResults" class="mt-4" style="display: none;"></div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/enhanced_features.js') }}"></script>
</body>
</html>
